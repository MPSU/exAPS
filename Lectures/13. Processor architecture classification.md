# Лекция 13. Виды и классификация архитектур

[СОДЕРЖАНИЕ](../README.md)

**План лекции**:

- [Архитектура](#архитектура)
- [Классификация архитектур](#классификация-архитектур)
  - [по способу хранения](#классификация-архитектур-по-способу-храниения-операндов)
  - [по составу и сложности команд](#классификация-архитектур-по-составу-и-сложности-команд)
  - [по способу реальзации условных переходов](#классификация-архитектур-по-способу-реализации-условных-переходов)
- [Классификация инструкций процессора](#классификация-инструкций)
  - [по функциональному назначению](#классификация-инструкций-по-функциональному-назначению)
  - [по способам адресации](#классификация-инструкций-по-способу-адресации-операндов)
  - [по количеству операндов в инструкции](#классификация-инструкций-по-количеству-операндов-в-инструкции)

## Архитектура

**Архитектура** - абстрактная модель функциональных возможностей процессора (средства, которыми может пользоваться программист)

_Строгое определение:_

**Архитектура набора команд** (Instruction set architecture) включает в себя два понятия:

- Система команд (инструкции аппаратно реализуемые в процессоре)
- Средства для выполнения команд:
  - форматы данных
  - системы регистров
  - способы адресации
  - модели памяти

## Классификация архитектур

### Классификация архитектур по способу храниения операндов

- **Аккумуляторная архитектура** \
  Архитектура на базе аккумулятора исторически возникла одной из первых. В ней для хранения одного из операндов арифметической или логической операции в процессоре имеется выделенный регистр — аккумулятор. В этот же регистр заносится и результат операции. Поскольку адрес одного из операндов предопределен, в командах обработки достаточно явно указать местоположение только второго операнда. Изначально оба операнда хранятся в основной памяти, и до выполнения операции один из них нужно загрузить в аккумулятор. После выполнения команды обработки результат находится в аккумуляторе и, если он не является операндом для последующей команды, его требуется сохранить в ячейке памяти.

- **Регистровая архитектура** \
  В машинах данного типа процессор включает в себя массив регистров (регистро­вый файл), известных как регистры общего назначения. Эти регистры можно рассматривать как явно управляемый кэш для хране­ния недавно использовавшихся данных.
  Регистровая архитектура допускает расположение операндов в одной из двух запоминающих сред: основной памяти или регистрах.

- **Load/store архитектура** \
  Load/store архитектура представляет собой архитектуру набора команд, которая делит инструкции на две категории: доступ к памяти (загрузка и сохранение между памятью и регистрами) и операции ALU (которые происходят только между регистрами).

- **Стековая архитектура** \
  В вычислительных машинах, где реализована архитектура на базе стека, операнды выбираются из двух верхних ячеек стековой памяти. Результат операции заносится в вершину стека.

### Классификация архитектур по составу и сложности команд

**CISC** (complex instruction set computer)
Архитектура с полным набором команд (относится к регистровой архитектуре набора команд)

**Особенности**:

- Имеет большое количество различных команд, каждая из которых выполняется несколько тактов
- Устройство управления с программируемой логикой
- Небольшое количество регистров общего назначения
- Различные форматы команд с разной длиной
- Преобладание двухадресной адресации
- Развитый механизм адресации операндов, включающйи различный методы косвенной адресации

---

**RISC** (reduced instruction set computer)
Архитектура с сокращенным набором команд (относится к load/store архитектуре набора команд).

**Особенности**:

- Большая часть команд выполняется за один такт
- Стандартная однословная длина всез команд, равная естественной длине слова и ширине шины данных и допускающая унифицированную конвейерную обработку всех команд
- Малое число стандартных команд (не более 128)
- Малое количество форматов команд (не около 4)
- Малоче число способов адресации (не более 4)
- Доступ к памяти только посредством команд чтения и записи (load/store)
- Все команды, кроме чтения и записи, используют внутрипроцессорные межригистровые пересылки
- Устройство управления с аппаратной (жесткой) логикой

---

![risc-cisc-comparison](https://github.com/mavhhh/APS/assets/76026701/cc657d80-8c4b-49ae-8e74-5af4f96f06cc)

---

**VLIW** (very long instruction word)

![VLIW](https://github.com/mavhhh/APS/assets/76026701/ccd03f2b-c184-4bbc-95e6-ef164642d697)

Архитектура с длинным командным словом (грубо говоря, объединение нескольких RISC процессоров работающих параллельно).

**Особенности**:

- Сложный регистровый файл, усложненные связи с вычислительными устройствами
- Большой объем программного кода
- Невозможность миграции программ, написанных под другие архитектуры
- Сложность отладки

---

### Классификация архитектур по способу реализации условных переходов

- Переход просиходит или не происходит исходя из значений _флагов_, формируемых операционными устройствами

- Специальные операции меняют содержимое _регистра состояний_ (state register). Команда условного перехода происходит, если содержимое регистра состояний соответствует выполняемой инструкции

## Классификация инструкций

### Классификация инструкций по функциональному назначению

- **Инструкции работы с данными**

  - Перемещение данных

  - Модификация данных
    - Арифмитические
    - Логические
    - Сдвига
    - Сравнения

- **Инструкции управления**

  - Управление программой

    - Условный переход
    - Безусловный переход

  - Управления процессором

### Классификация инструкций по способу адресации операндов

- Непосредственная (операнд содержится внутри инструкции)
- Прямая (указывается адрес операнда в основной памяти)
- Регистровая (указывается адрес регистра в регистровом файле)
- Косвенно-регистровая (указывается адрес регистра, в котром лежит адрес операнда в основной памяти)
- Косвенно-регистровая со смещением (указывается адрес регистра, в котором лежит базовый адрес, к которому прибавляется константа из инструкции, полученное число является адресом опернда в основной памяти)
- Относительная (является суммой регистра специального назначения и константы)

### Классификация инструкций по количеству операндов в инструкции

- 0 - Нет операндов
- 0 - Подразумеваемый операнд
- 1 - один операнд
- 2 - два операнда

### Основные материалы лекции

1. [Ссылка](https://www.youtube.com/watch?v=w4KbkQSDJLU) на видеозапись лекции
