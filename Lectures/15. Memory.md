  # Лекция 14. Подсистема прерывания

## Содержание
* [Определение](#Определение)
* [Характеристики](#Характеристики)
* [Метод доступа к данным](#Метод-доступа-к-данным)
* [Иерархия памяти](#Иерархия-памяти)
* 

## Определение 
**Система памяти** — это функциональный блок микропроцессорной системы, предназначенный для временного или постоянного хранения данных и команд, состоящий из _запоминающего устройства_ и _устройства управления_.

## Характеристики 
* **Ёмкость** — это количество битов данных, которые запоминающее устройство может хранить единовременно.
* **Еденица пересылки** — это количество битов данных, передаваемых по линиям шины одновременно.
* **Быстродействие** состоит из нескольких характеристик:
  - _Время выборки данных_ — это время между началом формирования запроса к памяти и получения первых бит информации на выходах из памяти. 
  - _Время хранения данных_ 
  - _Период обращения_ — это минимальное время, которое должно пройти между обращениями к памяти.
  - _Скорость передачи данных_

P.S. Стоит отметить, что не существует памяти, которая будет одновременно и ёмкой, и быстрой, и дешёвой в производстве. В любом случаем придётся жертвовать одним из трёх пунктов.  

## Метод доступа к данным
* **Произвольный** — метод, который просто возврашает данные по указанному адресу (RAM — Randoom Access Memory).
* **Последовательный**  — метод, при котором перед получением данных нужно прочитать все ячейки памяти, находящиеся до нужного адреса (видеокасета). 
* **Прямой** — это метод при котором поиск макроячейки осуществляется произвольным методом, а внутри макроячейки осуществляется последовательный поиск нужной ячейки. 
* **Ассоциативный** — это метод, который поиск осуществляется по тегам (Кэш-память).

## Иерархия памяти 

  С течением времени производительность процессора увеличивалась в разы быстрее чем производительность памяти, вследсвие чего память отделилась от процессора и стала отдельным блоком. Из-за этого появилась **иерархия памяти** (см. рис. 1). Память в компьютере состоит из нескольких уровней, которые условно разделены на две части: внутренняя и внешняя. К внутренняя нужна для функционирования системы, а внешняя для хранения больших данных, которые могут быть использованы процессором не так часто. 

  <div align="center">
  
![](https://sun9-44.userapi.com/impg/Hh8MjZWodtzMQ6ghpcLaRRFPJhuEbrcQsnfaPQ/XK9tEoLZp1c.jpg?size=803x819&quality=95&sign=6ef2d6aed77d2621a63a0b38304c5053&type=album)

*Рис. 1. Иерархия памяти.*
</div>

  В иерархии памяти можно выделить несколько зависимостей (см. рис. 2): 
  * Чем ближе часть памяти к процессору, тем меньше у неё ёмкость и тем она быстрее работает. 
  * Чем ближе часть памяти к процессору, тем чаще тот к ней обращается.
  * Чем дальше от процессора, тем дешевле еденица памяти. Т.е. гигабайт магнитной ленты стоит во много раз дешевле гигабайта кэш-памяти.

 <div align="center">
  
![](https://sun1-23.userapi.com/impg/oqtU8TyaI82CaSAJJ_S5g3JoDIbvxBzBv1-dew/QMZH-ZwyA-c.jpg?size=976x337&quality=96&sign=018182e6b354416a5c0fe64c53ef7b28&type=album
)

*Рис. 2. Зависимости в иерархии памяти.*
</div>



### Локальность по обращению 

Обращения к памяти обладают временной и пространственной локальностью: 

**Временная локальность** — это понятие, отражающее закономерность обращений программ к памяти и, с высокой вероятностью, проявляющееся в повторном использовании данных, к которым недавно уже обращались.

**Пространственная локальность** — это понятие, отражающее закономерность обращений программ к памяти и, с высокой вероятностью, проявляющееся в использовании в ближайшем будущем данных, находящихся по соседним адресам. 

Именно из-за этих понятий 90% времени работы программы связано с доступом к 10% адресного пространства этой программы. Если 10% адресного пространства поместить на быстродействующую память (Например кэш-паять), то 90% времени процессор будет работать с памятью на высокой скорости. 
Поэтому и сущесвтует иерархия памяти, которая помогает обходить проблему с быстротой, ёмкостью и дешевизной отдельных уровней памяти. Т.е. если взять быструю, маленькую и дешёвую кэш-память и медленную, большую и дешёвую оперативную память, то получится иерархия памяти, обладающая быстротой, ёмкостью и дешевизной. Это и есть главная причина возникновения иерархии.   







